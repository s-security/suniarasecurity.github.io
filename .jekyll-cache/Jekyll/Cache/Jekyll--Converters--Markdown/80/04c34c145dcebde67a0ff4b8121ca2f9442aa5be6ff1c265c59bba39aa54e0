I"…<ul>
  <li>Box: Blue
    <ul>
      <li>Difficulty: Easy</li>
      <li>Points: 20</li>
      <li>Release: 28 Jul 2017</li>
      <li>IP: 10.10.10.40</li>
    </ul>
  </li>
</ul>

<p>###Initial Enumeration</p>

<p>####1. Nmap Scanning</p>

<p>Starting with a scan of the target ip address:</p>

<p><code class="highlighter-rouge">nmap -sC -sV -oA blue.nmap 10.10.10.40</code></p>

<p>Based on the output of the nmap scan we can determine this is a Windows machine. Ports 135,139 and 445.
We also see a potential username ‚ÄúHaris‚Äù</p>

<p>The OS looks to be ‚ÄúWindows 7 SP1 7601 Build‚Äù.</p>

<p>Based on the name of this box and the SMB port being open, this box will potentially require an EternalBlue exploit.</p>

<p><img src="/images/posts/htb/blue/blue1.jpg" /></p>

<p>####2. SMB Enumeration</p>

<p>We can run <strong>smbmap</strong> to see if we have access to any network shares with the anonymous user.</p>

<p><code class="highlighter-rouge">smbmap -H 10.10.10.40 -u anonymous</code></p>

<p><img src="/images/posts/htb/blue/blue2.jpg" /></p>

<p>###Exploitation</p>

<p>####3. EternalBlue Exploit</p>

<p>Let‚Äôs use Metasploit and load up the following module:</p>

<p><code class="highlighter-rouge">exploit/windows/smb/ms17_010_eternalblue</code></p>

<p>Set your <strong>LHOST</strong> and <strong>RHOST</strong>. Then run it and it will immediately grant a root shell.
<img src="/images/posts/htb/blue/blue3.jpg" /></p>

<p>Grab the flags:</p>

<ul>
  <li>User flag is at <code class="highlighter-rouge">c:\Users\haris\Desktop\user.txt</code></li>
  <li>Root flag is at <code class="highlighter-rouge">c:\Users\Administrator\Desktop\root.txt</code></li>
</ul>

<p><img src="/images/posts/htb/blue/blue4.jpg" /></p>
:ET